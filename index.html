<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>AxelSub â€¢ Anime</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#0b0b0b;
  color:#fff;
  transition:.3s;
}
body.light{
  background:#f2f2f2;
  color:#111;
}
header{
  padding:18px 25px;
  font-size:26px;
  background:#111;
  display:flex;
  align-items:center;
}
nav{margin-left:auto}
nav span{
  margin-left:20px;
  cursor:pointer;
  opacity:.8;
}
nav span:hover{opacity:1}

section{padding:25px}

/* ===== SEARCH ===== */
#search{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:none;
  margin-bottom:20px;
}

/* ===== CARDS ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
}
.card{
  background:#111;
  border-radius:12px;
  overflow:hidden;
  cursor:pointer;
  transition:.3s;
}
.card:hover{
  transform:scale(1.05);
  box-shadow:0 0 15px #ff4500;
}
.card img{
  width:100%;
  height:300px;
  object-fit:cover;
}
.card div{padding:10px}

/* ===== PLAYER ===== */
#playerOverlay{
  display:none;
  position:fixed;
  inset:0;
  background:#000;
  z-index:9999;
}
#playerLayout{
  display:flex;
  height:100%;
}
.video{flex:3}
.video iframe{
  width:100%;
  height:100%;
  border:none;
}
.episodes{
  flex:1;
  background:#111;
  overflow-y:auto;
}
.ep{
  display:flex;
  gap:10px;
  padding:10px;
  cursor:pointer;
  border-bottom:1px solid #222;
}
.ep:hover,.ep.active{background:#ff4500}
.ep img{
  width:100px;
  height:60px;
  object-fit:cover;
  border-radius:6px;
}
.close{
  position:absolute;
  top:15px;
  right:20px;
  font-size:26px;
  cursor:pointer;
}

/* ===== SLIDER ===== */
#slider img{
  width:100%;
  height:350px;
  object-fit:cover;
  border-radius:12px;
}
</style>
</head>

<body>
<header>
  AxelSub
  <nav>
    <span onclick="toggleTheme()">ðŸŒ—</span>
  </nav>
</header>

<section>
<input id="search" placeholder="ðŸ” Anime keresÃ©s..." onkeyup="searchAnime()">

<h2>ðŸ”¥ Anime ajÃ¡nlÃ³</h2>
<div id="slider">
  <img id="slideImg" src="images/kingdom.jpg">
</div>

<h2>ðŸ†• LegutÃ³bb frissÃ¼lt</h2>
<div class="grid" id="animeGrid"></div>
</section>

<!-- PLAYER -->
<div id="playerOverlay">
  <div class="close" onclick="closePlayer()">âœ–</div>
  <div id="playerLayout">
    <div class="video">
      <iframe id="player"></iframe>
    </div>
    <div class="episodes" id="epList"></div>
  </div>
</div>

<script>
/* ===== ADATOK ===== */
const animes={
  kingdom:{
    title:"Kingdom â€“ 6. Ã©vad",
    img:"images/kingdom.jpg",
    episodes:[
      {
        title:"13. rÃ©sz",
        img:"images/kingdom.jpg",
        link:"https://drive.google.com/file/d/1bmVfCA_NhhYe9E35DoLR4U5059g6mxHz/preview"
      }
    ]
  },
  chitose:{
    title:"Chitose-kun",
    img:"images/chitose.jpg",
    episodes:[
      {
        title:"9. rÃ©sz",
        img:"images/chitose.jpg",
        link:"https://drive.google.com/file/d/1t2VBDgDpbSxAhFyZ6GLiSw0Q8ATMBRgB/preview"
      }
    ]
  }
};

/* ===== GRID ===== */
const grid=document.getElementById("animeGrid");
for(let key in animes){
  grid.innerHTML+=`
    <div class="card" onclick="openAnime('${key}')">
      <img src="${animes[key].img}">
      <div>${animes[key].title}</div>
    </div>`;
}

/* ===== PLAYER ===== */
function openAnime(key){
  const epList=document.getElementById("epList");
  epList.innerHTML="";
  animes[key].episodes.forEach(ep=>{
    const div=document.createElement("div");
    div.className="ep";
    div.innerHTML=`<img src="${ep.img}"><div>${ep.title}</div>`;
    div.onclick=()=>play(div,ep.link);
    epList.appendChild(div);
  });
  document.getElementById("playerOverlay").style.display="block";
}
function play(el,link){
  document.getElementById("player").src=link;
  document.querySelectorAll(".ep").forEach(e=>e.classList.remove("active"));
  el.classList.add("active");
}
function closePlayer(){
  document.getElementById("playerOverlay").style.display="none";
  document.getElementById("player").src="";
}

/* ===== SLIDER ===== */
const slides=Object.values(animes).map(a=>a.img);
let i=0;
setInterval(()=>{
  i=(i+1)%slides.length;
  document.getElementById("slideImg").src=slides[i];
},4000);

/* ===== SEARCH ===== */
function searchAnime(){
  const q=document.getElementById("search").value.toLowerCase();
  document.querySelectorAll(".card").forEach(c=>{
    c.style.display=c.innerText.toLowerCase().includes(q)?"block":"none";
  });
}

/* ===== THEME ===== */
function toggleTheme(){
  document.body.classList.toggle("light");
}
</script>
</body>
</html>
